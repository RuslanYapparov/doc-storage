[English](../README.md)

# Doc-storage

---

*Простейший сервис для хранения документов.*

<img src="../src/main/resources/static/img/background.webp" alt="Описание" width="570">

---

Реализованные функции:
  1) Авторизация пользователя (http-basic);
  2) Регистрация новых пользователей с отправкой email для подтверждения учетной записи;
  3) Добавление нового документа в хранилище - пользователь загружает файл и указывает его название и описание в специальной форме;
  4) Открытие доступа к загруженному документу для всех или для конкретного пользователя с указанием прав: просмотр, изменение, удаление;
  5) Вывод списков загруженных или доступных (расшаренных для пользователя) документов с сортировкой по основным атрибутам;
  6) Поиск документов (по тексту в названии/описании, по дате создания);
  7) Просмотр (открытие) .docx и .pdf файлов в браузере;
  8) Простейшая валидация вводимых в текстовые поля данных для исключения вредоносных скриптов и SQL-инъекций. 

---

Стек технологий:

- Языки программирования: Java 21 / JavaScript;
- Система сборки: Maven;
- Бэкенд-фреймворк: Spring Framework 6.2.1 (webmvc, security, data-jpa, test);
- Сервлет-контейнер: Apache Tomcat 11.0.1;
- Работы с базой данных: MSSQL Server Express, H2 (тесты), Flyway;
- ORM: Hibernate 6.5.3;
- Тестирование: Junit, Mockito;
- Линтеры: checkstyle 10.21.0, spotbugs 4.8.6.5;
- Фронтенд-фреймворк: Twitter Bootstrap.

---

Инструкция по запуску приложения локально:
Для запуска приложения необходимо программное обеспечение
- Git (вариант гайда по установке - https://learn.microsoft.com/ru-ru/devops/develop/git/install-and-set-up-git);
- JDK (java SE21+, вариант гайда по установке - https://blog.sf.education/ustanovka-jdk-poshagovaya-instrukciya-dlya-novichkov/);
- Apache Maven (вариант гайда по установке на Windows - https://byanr.com/installation-guides/maven-windows-11/);
- Docker (& docker-compose) - для работы в среде Windows понадобится виртуальная машина с ОС Linux -
  вариант гайда по ее установке - https://learn.microsoft.com/ru-ru/windows/wsl/install.

### Для запуска приложения необходимы конфигурационные файлы с настройками приложения и контейнеризации docker-compose.yml и с настройками подключения к БД flyway.conf, получить которые можно у разработчика.

Запустить терминал/командную строку/PowerShell, выполнить поочерёдно команды, дождавшись завершения каждой:
```
cd {целевая директория для загрузки проекта}

git clone https://github.com/RuslanYapparov/doc-storage.git

cd doc-storage/

mvn install

```

Необходимо поместить файлы docker-compose.yml и flyway.conf в корневую папку проекта и выполнить запуск контейнеризации

```

cp {директория, в которую помещены конфигурационные файлы}/docker-compose.yml ./

cp {директория, в которую помещены конфигурационные файлы}/flyway.conf ./

docker compose up
```

при первом запуске необходимо также создать структуру базы данных, например, запустив flyway-миграцию со скриптом с помощью команды

```
mvn flyway:migrate
```

При обращении к порту 8080 текущей машины будет подгружен пользовательский интерфейс приложения.

---

Данное приложение выполнено в соответствии с техническим заданием:

[Тестовое задание Java.docx](%D0%A2%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B5%20%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20Java.docx)